(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6aba21f3"],{"0d19":function(t,s,e){"use strict";var a=e("ae86"),i=e.n(a);i.a},"93d2":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"detail"},[e("div",{staticClass:"shop mb20"},[e("div",{staticClass:"rowBox box"},[e("p",{staticClass:"l1 c1 name"},[t._v(t._s(t.detail.shopName))]),e("el-button",{staticClass:"ml10",attrs:{type:"success",icon:"el-icon-star-on"},on:{click:t.goShop}},[t._v("Enter Shop")])],1),e("p",{staticClass:"desc c3 t3 l3"},[t._v(t._s(t.detail.shopDesc))])]),e("el-row",{attrs:{gutter:40}},[e("el-col",{attrs:{lg:12,sm:24,md:24}},[e("div",{staticClass:"detail-img"},[e("img",{attrs:{src:t.detail.pic,alt:""}})])]),e("el-col",{attrs:{lg:12,sm:24,md:24}},[e("div",{staticClass:"detail-main"},[e("p",{staticClass:"detail-main-name  l1 c1"},[t._v(t._s(t.detail.name))]),e("p",{staticClass:"detail-main-desc mb20 t2 l3 c3"},[t._v(t._s(t.detail.description))]),e("p",{staticClass:"detail-main-price mb30"},[e("span",[t._v("$ "+t._s(0!==t.detail.stock&&t.detail.price||"--"))])]),t._l(Object.keys(t.detail.attributeList),function(s){return e("div",{key:s,staticClass:"detail-main-tabs mb20"},[e("p",{staticClass:"mb10 l2 c2 t2"},[t._v(t._s(s))]),e("div",{staticClass:"rowBox"},t._l(t.detail.attributeList[s],function(a){return e("el-radio",{key:a,attrs:{label:a},on:{change:t.changeTab},model:{value:t.attrMap[s],callback:function(e){t.$set(t.attrMap,s,e)},expression:"attrMap[name]"}},[t._v(t._s(a))])}))])}),e("p",{staticClass:"detail-main-stock l3 t3 c3 mb20"},[t._v("Stock： "+t._s(t.detail.stock||0))]),e("div",{staticClass:"rowBox mb20"},[e("el-input-number",{staticClass:"ml10",attrs:{min:1,max:10,label:"描述文字"},model:{value:t.buyNum,callback:function(s){t.buyNum=s},expression:"buyNum"}})],1),e("div",{staticClass:"rowBox"},[e("el-button",{staticClass:"ml10",attrs:{type:"primary",round:"",size:"medium",disabled:0===t.detail.stock},on:{click:t.clickAdd}},[t._v("ADD TO CART")]),e("el-button",{staticClass:"ml10 order",attrs:{type:"primary",icon:"el-icon-sold-out",size:"medium",disabled:0===t.detail.stock},on:{click:t.confirmOrder}},[t._v("ORDER NOW")]),t.isCollected?t._e():e("el-button",{staticClass:"btn-like ml10",attrs:{type:"info",icon:"el-icon-star-on"},on:{click:t.clickLike}},[t._v("MARK")]),t.isCollected?e("el-button",{staticClass:"btn-cancel ml10",attrs:{type:"info",icon:"el-icon-star-on"},on:{click:t.cancelLike}},[t._v("UNMARK")]):t._e()],1)],2)])],1),e("p",{staticClass:"mt20 mb20 t1 l1 c1"},[t._v("COMMENT")]),e("div",{staticClass:"comment mt20"},t._l(t.detail.commentList,function(s){return e("div",{key:s,staticClass:"comment-item p10"},[e("img",{attrs:{src:"http://cdn.helloyzy.cn/images/avatar2.svg",alt:""}}),e("div",{staticClass:"ml20 colBox"},[e("span",{staticClass:"t2 l3 c1"},[t._v(t._s(s.username))]),e("span",{staticClass:"t3 l3 c2"},[t._v(t._s(s.commentContent))])])])})),e("el-dialog",{attrs:{title:"Info",visible:t.dialogVisible,width:"80%"},on:{"update:visible":function(s){t.dialogVisible=s}}},[e("div",{staticClass:"allMidBox m20"},[e("span",{staticClass:"t1 l1 c1 mb20"},[t._v("Payment QR Code")]),e("qriously",{attrs:{value:t.paymentValue,size:200}}),e("a",{staticClass:"mt20 t2 l2 c_info",attrs:{href:t.paymentValue}},[t._v("Payment Link")])],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.cancelPay}},[t._v("Cancel")])],1)])],1)},i=[],c=e("6e39"),o=(e("89c4"),e("0ebb")),l={name:"detail",components:{},data:function(){return{paymentValue:"",dialogVisible:!1}},props:{},created:function(){var t=this.$route.query.id;this.$store.dispatch("productDetailInit",t).then(function(t){})},mounted:function(){},beforeDestroy:function(){this.$store.dispatch("productClearAll")},methods:{confirmOrder:function(){var t=this;this.$message.confirm("Are You Sure To Order It？").then(function(){t.makeOrder()})},cancelPay:function(){this.dialogVisible=!1,this.$success("Order has sent to your page")},makeOrder:function(){var t=this;this.$store.dispatch("orderMake",{specsId:this.$store.state.product.detail.id,amount:this.$store.state.product.buyNum}).then(function(s){t.dialogVisible=!0,t.paymentValue="".concat(t.$baseURL,"/customer.html#/pay?id=").concat(s).replace("/api","")})},clickLike:function(){var t=this;this.$store.dispatch("productDetailAddLike").then(function(){t.$successN("Add Success!","Product Added To Your Favorites!")})},goShop:function(){this.$router.push({name:"shop",query:{id:this.$store.state.product.detail.shopId}})},cancelLike:function(){var t=this;this.$store.dispatch("productDetailCancelLike").then(function(){t.$successN("Cancel Success!","Removed From Your Favorites!")})},clickAdd:function(){var t=this;this.$store.dispatch("productDetailAddCart").then(function(){t.$success("Add Successfuly! Your Products Are Waiting For You ~")})},changeTab:function(){this.$store.dispatch("productDetailUpdate")}},computed:Object(c["a"])({},Object(o["c"])({detail:function(t){return t.product.detail},attrMap:function(t){return t.product.attributeMap},isCollected:function(t){return t.product.isCollected}}),Object(o["b"])(["isCollected"]),{buyNum:{set:function(t){this.$store.commit("productDetailChangeBuyNumber",t)},get:function(){return this.$store.state.product.buyNum}}})},n=l,r=(e("0d19"),e("0d30")),d=Object(r["a"])(n,a,i,!1,null,null,null);d.options.__file="Detail.vue";s["default"]=d.exports},ae86:function(t,s,e){}}]);
//# sourceMappingURL=chunk-6aba21f3.acea3391.js.map